<!DOCTYPE html>
<html>
<head>
    <title>LegacyShield Dashboard</title>
    <!-- Your existing head content here -->
</head>
<body>
    <h1>Dashboard</h1>
    <div id="content"></div>
    
    <script>
    // LegacyShield API: Get user's legacy data
    async function apiLegacyGet() {
        const res = await fetch("/api/legacy/get", {
            method: "GET",
            headers: { "Accept": "application/json" },
            credentials: "include",
            cache: "no-store"
        });
        
        const data = await res.json().catch(() => null);
        
        if (!res.ok) {
            const msg = (data && (data.error || data.message))
                ? (data.error || data.message)
                : ("Legacy API error: " + res.status);
            throw new Error(msg);
        }
        
        return data;
    }
    
    // Your other existing JavaScript code here
    </script>
</body>
</html>
