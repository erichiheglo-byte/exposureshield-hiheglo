{
  "version": 2,
  "builds": [
    { "src": "api/**/*.js", "use": "@vercel/node" },
    { "src": "**/*", "use": "@vercel/static" }
  ],
  "functions": {
    "api/check-email.js": { "maxDuration": 10 },
    "api/contact.js": { "maxDuration": 10 },
    "api/create-checkout.js": { "maxDuration": 10 },
    "api/record-payment.js": { "maxDuration": 10 },

    "api/register.js": { "maxDuration": 10 },
    "api/login.js": { "maxDuration": 10 },
    "api/me.js": { "maxDuration": 10 },

    "api/save-legacy-plan.js": { "maxDuration": 10 }
  },
  "routes": [
    { "src": "^/api/(.*)$", "dest": "/api/$1" },

    { "src": "^/privacy$", "dest": "/privacy.html" },
    { "src": "^/terms$", "dest": "/terms.html" },
    { "src": "^/refund$", "dest": "/refund.html" },
    { "src": "^/legacy$", "dest": "/legacy.html" },
    { "src": "^/pricing$", "dest": "/pricing.html" },
    { "src": "^/payment-demo$", "dest": "/payment-demo.html" },
    { "src": "^/payment-success$", "dest": "/payment-success.html" },

    { "src": "^(?!/api/).*", "dest": "/index.html" }
  ],
  "env": {
    "STRIPE_ENABLED": "false"
  }
}
